{{/* Usage: 
  {{ partial "recipe-image.html" (dict "image" .Params.image "title" .Title) }}
  Eager: {{ partial "recipe-image.html" (dict "image" .Params.image "title" .Title "loading" "eager" "fetchpriority" "high") }}
*/}}
{{ $img := resources.Get (printf "images/%s" .image) }}
{{ if $img }}
  {{ $webp := $img.Fill "600x400 q75 webp" }}
  {{ $loading := .loading | default "lazy" }}
  {{ $fetchpriority := .fetchpriority | default "" }}
  
  <img src="{{ $webp.RelPermalink }}" 
       alt="{{ .title }}" 
       class="w-full h-full object-cover"
       loading="{{ $loading }}"
       {{ if $fetchpriority }}fetchpriority="{{ $fetchpriority }}"{{ end }}
       width="600" 
       height="400">
{{ end }}