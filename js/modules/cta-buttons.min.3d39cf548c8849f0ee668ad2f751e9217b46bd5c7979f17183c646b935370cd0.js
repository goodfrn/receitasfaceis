export function initCTAButtons(){console.log("JavaScript CTA chargé");const n=document.getElementById("pinterestPinButton");n?(console.log("Pinterest button trouvé"),n.addEventListener("click",function(e){e.preventDefault(),console.log("Pinterest clicked");const t=encodeURIComponent(window.location.href),n=encodeURIComponent(document.title),s=document.querySelector('meta[property="og:image"]')?.content||"",o=encodeURIComponent(s),i=`https://pinterest.com/pin/create/button/?url=${t}&description=${n}&media=${o}`;window.open(i,"_blank","width=600,height=400")})):console.log("Pinterest button NOT found");const t=document.getElementById("shareButton"),e=document.getElementById("shareMenu");t&&e?(console.log("Share button et menu trouvés"),t.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),console.log("Share button clicked"),e.classList.toggle("opacity-0"),e.classList.toggle("invisible")}),document.addEventListener("click",function(n){!t.contains(n.target)&&!e.contains(n.target)&&(e.classList.add("opacity-0"),e.classList.add("invisible"))})):console.log("Share button ou menu NOT found");const s=document.getElementById("emailButton");s&&(console.log("Email button trouvé"),s.addEventListener("click",function(t){t.preventDefault(),console.log("Email clicked");const n=encodeURIComponent(document.title),s=encodeURIComponent(`Découvrez cette recette : ${window.location.href}`);window.location.href=`mailto:?subject=${n}&body=${s}`,e&&(e.classList.add("opacity-0"),e.classList.add("invisible"))}));const o=document.getElementById("whatsappButton");o&&(console.log("WhatsApp button trouvé"),o.addEventListener("click",function(t){t.preventDefault(),console.log("WhatsApp clicked");const n=encodeURIComponent(`${document.title} - ${window.location.href}`);window.open(`https://wa.me/?text=${n}`,"_blank"),e&&(e.classList.add("opacity-0"),e.classList.add("invisible"))}));const i=document.getElementById("pinterestButton");i&&(console.log("Pinterest menu button trouvé"),i.addEventListener("click",function(t){t.preventDefault(),console.log("Pinterest menu clicked");const n=encodeURIComponent(window.location.href),s=encodeURIComponent(document.title),o=document.querySelector('meta[property="og:image"]')?.content||"",i=encodeURIComponent(o),a=`https://pinterest.com/pin/create/button/?url=${n}&description=${s}&media=${i}`;window.open(a,"_blank","width=600,height=400"),e&&(e.classList.add("opacity-0"),e.classList.add("invisible"))}));const a=document.getElementById("instagramButton");a&&(console.log("Instagram button trouvé"),a.addEventListener("click",function(t){t.preventDefault(),console.log("Instagram clicked"),navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{showToast("Lien copié pour Instagram !")}).catch(()=>{fallbackCopyLink("Lien copié pour Instagram !")}):fallbackCopyLink("Lien copié pour Instagram !"),e&&(e.classList.add("opacity-0"),e.classList.add("invisible"))}));const r=document.getElementById("copyLinkButton");r&&(console.log("Copy link button trouvé"),r.addEventListener("click",function(t){t.preventDefault(),console.log("Copy link clicked"),navigator.clipboard?navigator.clipboard.writeText(window.location.href).then(()=>{showToast("Lien copié !")}).catch(()=>{fallbackCopyLink("Lien copié !")}):fallbackCopyLink("Lien copié !"),e&&(e.classList.add("opacity-0"),e.classList.add("invisible"))}));const c=document.getElementById("printButton");c&&(console.log("Print button trouvé"),c.addEventListener("click",function(e){e.preventDefault(),console.log("Print clicked"),window.print()}))}function showToast(e){console.log("Toast:",e);const n=document.querySelectorAll(".toast-notification");n.forEach(e=>e.remove());const t=document.createElement("div");t.className="toast-notification fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 transition-all duration-300",t.style.opacity="0",t.style.transform="translateX(100%)",t.textContent=e,document.body.appendChild(t),setTimeout(()=>{t.style.opacity="1",t.style.transform="translateX(0)"},10),setTimeout(()=>{t.style.opacity="0",t.style.transform="translateX(100%)",setTimeout(()=>t.remove(),300)},3e3)}function fallbackCopyLink(e="Lien copié !"){console.log("Fallback copy");const t=document.createElement("input");t.value=window.location.href,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.select();try{document.execCommand("copy"),showToast(e)}catch(e){console.error("Erreur copie:",e),showToast("Erreur lors de la copie")}document.body.removeChild(t)}